<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>20분 데모 예약 - 예약봇 YEYAKBOT</title>
    <meta name="description" content="20분 데모를 통해 예약봇의 모든 기능을 직접 확인하고 궁금한 점을 해결하세요.">
    <link rel="canonical" href="https://yeyakbot.com/demo.html">
    <link rel="icon" href="assets/favicon.png" type="image/png">
    
    <!-- Naver -->
    <meta name="naver-site-verification" content="YOUR_NAVER_TOKEN">
    <meta name="google-site-verification" content="REPLACE_GOOGLE_TOKEN">
    
    <!-- Open Graph Meta Tags -->
    <meta property="og:title" content="20분 데모 예약 - 예약봇 YEYAKBOT">
    <meta property="og:description" content="20분 데모를 통해 예약봇의 모든 기능을 직접 확인하고 궁금한 점을 해결하세요.">
    <meta property="og:image" content="https://yeyakbot.com/assets/og.png">
    <meta property="og:url" content="https://yeyakbot.com/demo.html">
    <meta property="og:type" content="website">
    
    <!-- GA4 Enhanced Tracking -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-XXXXXXX"></script>
    <script>
      // GA4 스니펫이 이미 있다면 생략
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'G-XXXXXXX'); // 당신의 GA4 ID

      // 공통 클릭 트래킹
      function trackClick(name, params={}) {
        if (!window.gtag) return;
        gtag('event', name, Object.assign({ page: location.pathname }, params));
      }
    </script>
    
    <link href="https://assets.calendly.com/assets/external/widget.css" rel="stylesheet">
    <link rel="stylesheet" href="css/style.css">
</head>
<body>
    <header class="site-header">
        <a href="/index.html" class="brand" aria-label="홈으로 이동">예약봇 <strong>YEYAKBOT</strong></a>
        <nav class="nav">
            <a href="/booking.html" data-ga="nav_booking" onclick="gtag('event','lead_click',{place:'nav',variant:'brand'});">3분 예약</a>
            <a href="/demo.html" data-ga="nav_demo" onclick="gtag('event','schedule_click',{place:'nav'});">20분 데모</a>
        </nav>
    </header>

    <style>
        .site-header{display:flex;align-items:center;justify-content:space-between;padding:14px 20px}
        .brand{font-weight:800;text-decoration:none;color:#111;position:relative;z-index:50;cursor:pointer}
        .brand:hover{opacity:.85}
        .nav a{margin-left:12px;text-decoration:none;color:#111}
    </style>

    <main>
        <!-- ===== 20분 데모 예약 (Calendly + GA4 이벤트) ===== -->
        <section class="container" style="max-width:960px;margin:0 auto;padding:24px;">
            <h1 style="font-size:32px;font-weight:800;margin:8px 0;">20분 데모 예약</h1>
            <p style="color:#6b7280;margin-bottom:16px;">데모 예약 캘린더를 로딩 중입니다…</p>

            <!-- Calendly Inline Embed -->
            <div
                class="calendly-inline-widget"
                data-url="https://calendly.com/yeyakbot/30min?hide_landing_page_details=1&hide_gdpr_banner=1&primary_color=1c64f2"
                style="min-width:320px;height:860px;border:1px solid #eef2f7;border-radius:10px;overflow:hidden;">
            </div>
            <script src="https://assets.calendly.com/assets/external/widget.js" async></script>

            <!-- 보조: 새 창 열기 -->
            <p style="margin-top:10px;color:#6b7280;">
                임베드가 보이지 않으면
                <a href="https://calendly.com/yeyakbot/30min" target="_blank" rel="noopener" onclick="gtag&&gtag('event','schedule_click',{place:'demo_backup',variant:'open_form'});">여기</a>에서 새 창으로 예약하세요.
            </p>
        </section>
    </main>

    <footer class="footer">
        <div class="container">
            <div class="footer-content">
                <p>&copy; 2025 예약봇 · YEYAKBOT</p>
                <div class="footer-links">
                    <a href="privacy.html">개인정보처리방침</a>
                    <a href="terms.html">이용약관</a>
                    <a href="robots.txt">robots.txt</a>
                    <a href="sitemap.xml">sitemap.xml</a>
                </div>
            </div>
        </div>
    </footer>

    <!-- Sticky Mobile CTA -->
    <div class="sticky-cta">
        <a class="ghost" href="/booking" onclick="gtag('event','lead_click',{place:'floating',variant:'brand'});">3분 예약</a>
        <a class="ghost" href="https://pf.kakao.com/_yeyakbot" target="_blank" rel="noopener" onclick="gtag('event','kakao_click',{place:'floating'});">카카오</a>
        <a class="call" href="tel:01000000000" onclick="gtag('event','call_click',{place:'floating'});">전화</a>
    </div>

    <!-- Calendly → GA4 브리지 -->
    <script>
      // GA4: 데모 페이지 노출 이벤트 (중복 방지)
      document.addEventListener('DOMContentLoaded', () => {
        if (typeof gtag === 'function') {
          if (!window.__demoFired) {
            window.__demoFired = true;
            gtag('event','demo_view',{ page_location: location.href });
          }
        }
      });

      // Calendly 임베드 이벤트를 GA4로 전달
      // 참조 이벤트: calendly.event_type_viewed, calendly.date_and_time_selected, calendly.event_scheduled
      window.addEventListener('message', function(e) {
        // 안전: 메시지 출처 확인
        if (!e.origin || !e.origin.includes('calendly.com')) return;
        if (!e.data || typeof e.data !== 'object') return;

        var payload = e.data;
        if (payload.event && payload.event.indexOf('calendly.') === 0) {
          // 공통 파라미터
          var base = {
            page_section: 'demo',       // 어떤 페이지/섹션인지 구분
            calendly_event: payload.event
          };

          // 이벤트 매핑
          switch (payload.event) {
            case 'calendly.event_type_viewed':
              gtag('event', 'calendly_type_viewed', base);
              break;
            case 'calendly.date_and_time_selected':
              gtag('event', 'calendly_time_selected', base);
              break;
            case 'calendly.event_scheduled':
              // 최종 전환(예약 완료)으로 잡기
              gtag('event', 'schedule', Object.assign({}, base, { method: 'calendly' }));
              // 필요 시 추가: gtag('event', 'generate_lead', {...});
              break;
          }
        }
      }, false);
    </script>
    <script>
      // Brand element click handler
      document.querySelectorAll('[data-home], .brand').forEach(el => {
        el.style.cursor = 'pointer';
        el.addEventListener('click', () => location.href = '/index.html');
      });
    </script>
    <script src="js/app.js"></script>
</body>
</html>
